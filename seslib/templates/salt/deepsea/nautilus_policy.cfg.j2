cluster-ceph/cluster/*.sls
config/stack/default/global.yml
config/stack/default/ceph/cluster.yml
role-admin/cluster/*.sls

{% for node in nodes: %}
{% if node.has_role('storage') %}
role-storage/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('mon') %}
role-mon/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('master') %}
role-master/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('mgr') %}
role-mgr/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('mds') %}
role-mds/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('rgw') %}
role-rgw/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('igw') %}
role-igw/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('nfs') or node.has_role('ganesha') %}
role-ganesha/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('prometheus') %}
role-prometheus/cluster/{{ node.name }}*.sls
{% endif %}
{% if node.has_role('grafana') %}
role-grafana/cluster/{{ node.name }}*.sls
{% endif %}
{% endfor %}
